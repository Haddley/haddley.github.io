<!DOCTYPE html><!--RJUMHoOpO5HDs1LInqYrA--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/949adacb6381283a-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/9dd75fadc5b3df29-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/a7d33c8790143d66.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-4c42975394ce1617.js"/><script src="/_next/static/chunks/4bd1b696-c023c6e3521b1417.js" async=""></script><script src="/_next/static/chunks/255-fe5c522e6d28d73f.js" async=""></script><script src="/_next/static/chunks/main-app-f50e9b07a96b5107.js" async=""></script><script src="/_next/static/chunks/619-ba102abea3e3d0e4.js" async=""></script><script src="/_next/static/chunks/app/layout-b6140098d4dc0e33.js" async=""></script><script src="/_next/static/chunks/356-1fcf197c11312f1f.js" async=""></script><script src="/_next/static/chunks/app/posts/%5Bslug%5D/page-313a7831d907d705.js" async=""></script><meta name="next-size-adjust" content=""/><title>Neil Haddley - Developer &amp; Technical Consultant</title><meta name="description" content="I help organizations to connect with clients, comply with regulations, and automate workflows."/><meta name="author" content="Neil Haddley"/><meta name="keywords" content="developer, consultant, Azure, Angular, Business Central, automation"/><meta name="creator" content="Neil Haddley"/><meta property="og:title" content="Neil Haddley - Developer &amp; Technical Consultant"/><meta property="og:description" content="I help organizations to connect with clients, comply with regulations, and automate workflows."/><meta property="og:url" content="https://haddley.github.io/"/><meta property="og:site_name" content="Neil Haddley"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Neil Haddley - Developer &amp; Technical Consultant"/><meta name="twitter:description" content="I help organizations to connect with clients, comply with regulations, and automate workflows."/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><link rel="stylesheet" href="/assets/web/assets/mobirise-icons2/mobirise2.css"/><link rel="stylesheet" href="/assets/web/assets/mobirise-icons-bold/mobirise-icons-bold.css"/><link rel="stylesheet" href="/assets/bootstrap/css/bootstrap.min.css"/><link rel="stylesheet" href="/assets/bootstrap/css/bootstrap-grid.min.css"/><link rel="stylesheet" href="/assets/bootstrap/css/bootstrap-reboot.min.css"/><link rel="stylesheet" href="/assets/dropdown/css/style.css"/><link rel="stylesheet" href="/assets/socicon/css/styles.css"/><link rel="stylesheet" href="/assets/theme/css/style.css"/><link rel="stylesheet" href="/assets/mobirise/css/mbr-additional.css"/><link rel="stylesheet" href="/prism.css"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_2cd903 antialiased"><div hidden=""><!--$--><!--/$--></div><section class="menu menu3 cid-uBU3VPzqgj" id="menu3-crt"><nav class="navbar navbar-dropdown navbar-fixed-top navbar-expand-lg"><div class="container"><div class="navbar-brand"><span class="navbar-caption-wrap"><a class="navbar-caption text-black text-primary display-7" href="/">Neil Haddley</a></span></div><button class="navbar-toggler" type="button" aria-expanded="false" aria-label="Toggle navigation"><div class="hamburger"><span></span><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse " id="navbarSupportedContent"><ul class="navbar-nav nav-dropdown nav-right"><li class="nav-item"><a class="nav-link link text-black text-primary display-4" href="/posts/">Blog Posts</a></li></ul><div class="icons-menu"><a class="iconfont-wrapper" href="https://www.linkedin.com/in/neil-haddley/" target="_blank" rel="noopener noreferrer"><span class="p-2 mbr-iconfont socicon-linkedin socicon"></span></a><a class="iconfont-wrapper" href="https://github.com/haddley" target="_blank" rel="noopener noreferrer"><span class="p-2 mbr-iconfont mbrib-github"></span></a><a class="iconfont-wrapper" href="https://www.npmjs.com/~haddley" target="_blank" rel="noopener noreferrer"><span class="p-2 mbr-iconfont socicon-npm socicon"></span></a><a class="iconfont-wrapper" href="https://hub.docker.com/u/haddley" target="_blank" rel="noopener noreferrer"><span class="p-2 mbr-iconfont mobi-mbri-delivery mobi-mbri"></span></a></div></div></div></nav></section><main><section class="content4 cid-uBU3VQlp0E" id="content4-cru"><div class="container"><div class="row justify-content-center"><div class="title col-md-12 col-lg-10"><h3 class="mbr-section-title mbr-fonts-style align-center mb-4 display-2"><strong>Microsoft Dynamics 365 Business Central (Part 8)</strong></h3><h4 class="mbr-section-subtitle align-center mbr-fonts-style mb-4 display-5">Maps Extension</h4></div></div></div></section><section class="content1 cid-content" id="content1-breadcrumb"><div class="container"><div class="row justify-content-center"><div class="col-md-12 col-lg-10"><div class="mb-4"><a class="link text-primary display-7" href="/posts/">‚Üê Back to Posts</a></div></div></div></div></section><section class="content5 cid-content5" data-bs-version="5.1"><div class="container"><div class="row justify-content-center"><div class="col-md-12 col-lg-10"><h4 class="mbr-section-subtitle mbr-fonts-style mb-4 display-5">Map Extension</h4></div></div></div></section><section class="image3 cid-image3" data-bs-version="5.1"><div class="container"><div class="row justify-content-center"><div class="col-12 col-lg-10"><div class="image-wrapper"><img alt="By Microsoft, Public Domain" loading="lazy" width="800" height="600" decoding="async" data-nimg="1" class="img-fluid" style="color:transparent;width:100%;height:auto" src="/assets/images/mapextension/dynamics365-color.svg"/><p class="mbr-description mbr-fonts-style mt-2 align-center display-4">By Microsoft, Public Domain</p></div></div></div></div></section><section class="content5 cid-content5" data-bs-version="5.1"><div class="container"><div class="row justify-content-center"><div class="col-md-12 col-lg-10"><h4 class="mbr-section-subtitle mbr-fonts-style mb-4 display-5">Map Extension</h4></div></div></div></section><section class="content5 cid-content5" data-bs-version="5.1"><div class="container"><div class="row justify-content-center"><div class="col-md-12 col-lg-10"><p class="mbr-text mbr-fonts-style display-7"><span>The Microsoft Dynamics 365 Business Central Extension described here allows users to view Customer locations in a map.</span></p></div></div></div></section><section class="content5 cid-content5" data-bs-version="5.1"><div class="container"><div class="row justify-content-center"><div class="col-md-12 col-lg-10"><h4 class="mbr-section-subtitle mbr-fonts-style mb-4 display-5">ChatGPT</h4></div></div></div></section><section class="content5 cid-content5" data-bs-version="5.1"><div class="container"><div class="row justify-content-center"><div class="col-md-12 col-lg-10"><p class="mbr-text mbr-fonts-style display-7"><span>**Please explain this Business Central AL code**<br/><br/></span><span>The provided Business Central AL (Application Language) code is defining an extension for a Business Central application that adds a Leaflet map visualization to customer-related pages in the application. Let&#x27;s break down the code step by step:<br/><br/></span><span>**Control Add-in Definition (LeafletMapsFactBox):**<br/><br/></span><span>This section defines a control add-in named LeafletMapsFactBox. Control add-ins are used to integrate external controls or web content into Business Central pages.<br/><br/></span><span>RequestedHeight and MaximumHeight specify the height of the control.<br/><br/></span><span>VerticalStretch and VerticalShrink control the vertical resizing behavior.<br/><br/></span><span>HorizontalStretch and HorizontalShrink control the horizontal resizing behavior.<br/><br/></span><span>Scripts specifies JavaScript files that are needed for the control add-in. It includes two URLs, one for Leaflet.js and another for LeafletMapsFunctions.js.<br/><br/></span><span>Stylesheets specifies the CSS styles needed for the control add-in, including the Leaflet CSS.<br/><br/></span><span>The ControlReady event is defined, which will be triggered when the control is ready. Additionally, there&#x27;s a procedure CreateSidebar defined.<br/><br/></span><span>**Page 50101 (LeafletMapsCustListFactBoxPart):**<br/><br/></span><span>This section defines a page named LeafletMapsCustListFactBoxPart. It is a fact box part that extends the Customer table and is intended to display on a card page.<br/><br/></span><span>PageType specifies that this is a card part.<br/><br/></span><span>SourceTable specifies that this part is related to the &quot;Customer&quot; table.<br/><br/></span><span>In the layout section, it defines a user control (Sidebar) that references the LeafletMapsFactBox control add-in defined earlier. This user control will be placed in the &quot;Content&quot; area of the page.<br/><br/></span><span>The OnAfterGetRecord trigger is defined. It is executed after a record is retrieved. It calls the CreateSidebar procedure defined in the LeafletMapsFactBox control add-in, passing the customer&#x27;s number and city as parameters.<br/><br/></span><span>**Page Extension 50102 (LeafletMaps Cust Card):**<br/><br/></span><span>This section defines a page extension that extends the &quot;Customer Card&quot; page. It adds a fact box part, LeafletMapsCustListFactBoxPart, to the &quot;Customer Card&quot; page.<br/><br/></span><span>It places the fact box part in the &quot;FactBoxes&quot; area.<br/><br/></span><span>ApplicationArea specifies that this extension is applicable to all areas.<br/><br/></span><span>Caption sets the caption for the fact box part to &quot;Customer Map.&quot;<br/><br/></span><span>SubPageLink indicates that this fact box is linked to the customer number (&quot;No.&quot;).<br/><br/></span><span>**Page Extension 50103 (LeafletMaps Cust List):**<br/><br/></span><span>This section defines a page extension that extends the &quot;Customer List&quot; page. Similar to the previous extension, it adds the LeafletMapsCustListFactBoxPart fact box part to the &quot;Customer List&quot; page.<br/><br/></span><span>It also places the fact box part in the &quot;FactBoxes&quot; area.<br/><br/></span><span>ApplicationArea specifies that this extension is applicable to all areas.<br/><br/></span><span>Caption sets the caption for the fact box part to &quot;Customer Map.&quot;<br/><br/></span><span>SubPageLink indicates that this fact box is linked to the customer number (&quot;No.&quot;).<br/><br/></span><span>In summary, this code extends customer-related pages in a Business Central application to include a fact box displaying a Leaflet map. The map is populated with customer data, and users can interact with it to visualize customer locations. The LeafletMapsFactBox control add-in provides the functionality for rendering the map, and the code specifies when and where this control should be displayed on customer card and list pages.</span></p></div></div></div></section><section class="image3 cid-image3" data-bs-version="5.1"><div class="container"><div class="row justify-content-center"><div class="col-12 col-lg-10"><div class="image-wrapper"><img alt="Customer Adatum Corporation is based in Atlanta" loading="lazy" width="800" height="600" decoding="async" data-nimg="1" class="img-fluid" style="color:transparent;width:100%;height:auto" src="/assets/images/mapextension/20230901image01-1333x810.png"/><p class="mbr-description mbr-fonts-style mt-2 align-center display-4">Customer Adatum Corporation is based in Atlanta</p></div></div></div></div></section><section class="image3 cid-image3" data-bs-version="5.1"><div class="container"><div class="row justify-content-center"><div class="col-12 col-lg-10"><div class="image-wrapper"><img alt="Customer Trey Research is based in Chicago" loading="lazy" width="800" height="600" decoding="async" data-nimg="1" class="img-fluid" style="color:transparent;width:100%;height:auto" src="/assets/images/mapextension/20230901image02-1333x809.png"/><p class="mbr-description mbr-fonts-style mt-2 align-center display-4">Customer Trey Research is based in Chicago</p></div></div></div></div></section><section class="image3 cid-image3" data-bs-version="5.1"><div class="container"><div class="row justify-content-center"><div class="col-12 col-lg-10"><div class="image-wrapper"><img alt="Customer School of Fine Art is based in Miami" loading="lazy" width="800" height="600" decoding="async" data-nimg="1" class="img-fluid" style="color:transparent;width:100%;height:auto" src="/assets/images/mapextension/20230901image03-1332x807.png"/><p class="mbr-description mbr-fonts-style mt-2 align-center display-4">Customer School of Fine Art is based in Miami</p></div></div></div></div></section><section class="image3 cid-image3" data-bs-version="5.1"><div class="container"><div class="row justify-content-center"><div class="col-12 col-lg-10"><div class="image-wrapper"><img alt="Customer Relecloud is based in Atlanta" loading="lazy" width="800" height="600" decoding="async" data-nimg="1" class="img-fluid" style="color:transparent;width:100%;height:auto" src="/assets/images/mapextension/20230901image04-1331x808.png"/><p class="mbr-description mbr-fonts-style mt-2 align-center display-4">Customer Relecloud is based in Atlanta</p></div></div></div></div></section><section class="content5 cid-content5" data-bs-version="5.1"><div class="container"><div class="row justify-content-center"><div class="col-md-12 col-lg-10"><h4 class="mbr-section-subtitle mbr-fonts-style mb-4 display-5">Upload and deploy extension</h4></div></div></div></section><section class="content5 cid-content5" data-bs-version="5.1"><div class="container"><div class="row justify-content-center"><div class="col-md-12 col-lg-10"><p class="mbr-text mbr-fonts-style display-7"><span>To upload and deploy an extension to Microsoft Dynamics 365 Business Central, you&#x27;ll need to follow a series of steps. Extensions in Business Central typically come in the form of [.app](https://haddley.github.io/businesscentral/Haddley_haddley-app_1.0.0.0.app) files or .zip files containing the extension&#x27;s artifacts and metadata. Here&#x27;s a step-by-step guide on how to do this:<br/><br/></span><span>Prerequisites:<br/><br/></span><span>You should have an extension package ready (either a .app file or a .zip file) that you want to upload and deploy.<br/><br/></span><span>You should have the necessary permissions to perform these actions in your Business Central instance.<br/><br/></span><span>Steps:<br/><br/></span><span>Access Your Business Central Environment:<br/><br/></span><span>Log in to your Microsoft Dynamics 365 Business Central environment with the appropriate credentials.<br/><br/></span><span>Access the Extension Management Page:<br/><br/></span><span>Depending on the version of Business Central you&#x27;re using, the exact path to the Extension Management page may vary. Generally, you can find it under &quot;Extension Management&quot; or &quot;Extensions.&quot;<br/><br/></span><span>Upload the Extension Package:<br/><br/></span><span>Look for an option to &quot;Upload Extension&quot; or something similar. This will allow you to select and upload the extension package (the .app or .zip file) from your local machine.<br/><br/></span><span>Provide Necessary Information:<br/><br/></span><span>Depending on your extension, you may need to provide some configuration details or permissions. Follow the on-screen instructions to configure the extension correctly.<br/><br/></span><span>Install the Extension:<br/><br/></span><span>After uploading the extension, you&#x27;ll typically see an option to &quot;Install&quot; or &quot;Publish&quot; it. Click this option to initiate the installation process.<br/><br/></span><span>Monitor Installation Progress:<br/><br/></span><span>Business Central will begin installing the extension. You can monitor the installation progress, and if any issues arise, you&#x27;ll receive error messages indicating what needs to be resolved.<br/><br/></span><span>Check the Status:<br/><br/></span><span>Once the installation is complete, check the status of the extension to ensure it&#x27;s successfully installed and deployed. You should see it listed among your installed extensions.<br/><br/></span><span>Enable or Configure the Extension:<br/><br/></span><span>Depending on the extension, you may need to enable or configure it further to make it functional. This can include setting up permissions, defining data mappings, or configuring integration points.<br/><br/></span><span>Test and Validate:<br/><br/></span><span>Before using the extension in a production environment, it&#x27;s a good practice to thoroughly test it in a sandbox or testing environment to ensure it works as expected and doesn&#x27;t conflict with existing functionality.<br/><br/></span><span>Go Live:<br/><br/></span><span>Once you are satisfied with the extension&#x27;s performance in your testing environment, you can deploy it to your production environment by following similar steps. Make sure to have a backup and a rollout plan in case any issues arise during deployment.<br/><br/></span><span>Remember that the exact steps and options may vary slightly depending on the version of Business Central you&#x27;re using and the specific requirements of the extension you are deploying. Always refer to the official documentation for your version of Business Central for detailed instructions and troubleshooting guidance.</span></p></div></div></div></section><section class="image3 cid-image3" data-bs-version="5.1"><div class="container"><div class="row justify-content-center"><div class="col-12 col-lg-10"><div class="image-wrapper"><img alt="Advanced Settings" loading="lazy" width="800" height="600" decoding="async" data-nimg="1" class="img-fluid" style="color:transparent;width:100%;height:auto" src="/assets/images/mapextension/20230903image01-1340x889.png"/><p class="mbr-description mbr-fonts-style mt-2 align-center display-4">Advanced Settings</p></div></div></div></div></section><section class="image3 cid-image3" data-bs-version="5.1"><div class="container"><div class="row justify-content-center"><div class="col-12 col-lg-10"><div class="image-wrapper"><img alt="Upload And Deploy Extension" loading="lazy" width="800" height="600" decoding="async" data-nimg="1" class="img-fluid" style="color:transparent;width:100%;height:auto" src="/assets/images/mapextension/20230903image02-1336x887.png"/><p class="mbr-description mbr-fonts-style mt-2 align-center display-4">Upload And Deploy Extension</p></div></div></div></div></section><section class="image3 cid-image3" data-bs-version="5.1"><div class="container"><div class="row justify-content-center"><div class="col-12 col-lg-10"><div class="image-wrapper"><img alt="Deploy" loading="lazy" width="800" height="600" decoding="async" data-nimg="1" class="img-fluid" style="color:transparent;width:100%;height:auto" src="/assets/images/mapextension/20230903image03-1333x808.png"/><p class="mbr-description mbr-fonts-style mt-2 align-center display-4">Deploy</p></div></div></div></div></section><section class="image3 cid-image3" data-bs-version="5.1"><div class="container"><div class="row justify-content-center"><div class="col-12 col-lg-10"><div class="image-wrapper"><img alt="Installation in progress" loading="lazy" width="800" height="600" decoding="async" data-nimg="1" class="img-fluid" style="color:transparent;width:100%;height:auto" src="/assets/images/mapextension/20230903image04-1330x805.png"/><p class="mbr-description mbr-fonts-style mt-2 align-center display-4">Installation in progress</p></div></div></div></div></section><section class="image3 cid-image3" data-bs-version="5.1"><div class="container"><div class="row justify-content-center"><div class="col-12 col-lg-10"><div class="image-wrapper"><img alt="Extension running in the cloud" loading="lazy" width="800" height="600" decoding="async" data-nimg="1" class="img-fluid" style="color:transparent;width:100%;height:auto" src="/assets/images/mapextension/20230903image05-1337x885.png"/><p class="mbr-description mbr-fonts-style mt-2 align-center display-4">Extension running in the cloud</p></div></div></div></div></section><!--$--><!--/$--></main><script src="/_next/static/chunks/webpack-4c42975394ce1617.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[9379,[\"619\",\"static/chunks/619-ba102abea3e3d0e4.js\",\"177\",\"static/chunks/app/layout-b6140098d4dc0e33.js\"],\"default\"]\n3:I[9766,[],\"\"]\n4:I[8924,[],\"\"]\n6:I[4431,[],\"OutletBoundary\"]\n8:I[5278,[],\"AsyncMetadataOutlet\"]\na:I[4431,[],\"ViewportBoundary\"]\nc:I[4431,[],\"MetadataBoundary\"]\nd:\"$Sreact.suspense\"\nf:I[7150,[],\"\"]\n:HL[\"/_next/static/media/949adacb6381283a-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/9dd75fadc5b3df29-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/a7d33c8790143d66.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"RJUMHoOpO5HDs1LInqYrA\",\"p\":\"\",\"c\":[\"\",\"posts\",\"mapExtension\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"mapExtension\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/a7d33c8790143d66.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/web/assets/mobirise-icons2/mobirise2.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/web/assets/mobirise-icons-bold/mobirise-icons-bold.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/bootstrap/css/bootstrap.min.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/bootstrap/css/bootstrap-grid.min.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/bootstrap/css/bootstrap-reboot.min.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/dropdown/css/style.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/socicon/css/styles.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/theme/css/style.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/mobirise/css/mbr-additional.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/prism.css\"}]]}],[\"$\",\"body\",null,{\"className\":\"__className_2cd903 antialiased\",\"children\":[[\"$\",\"$L2\",null,{}],[\"$\",\"main\",null,{\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]]}]]}],{\"children\":[\"posts\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"mapExtension\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L5\",null,[\"$\",\"$L6\",null,{\"children\":[\"$L7\",[\"$\",\"$L8\",null,{\"promise\":\"$@9\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$La\",null,{\"children\":\"$Lb\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]],[\"$\",\"$Lc\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$d\",null,{\"fallback\":null,\"children\":\"$Le\"}]}]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$f\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"10:I[2619,[\"619\",\"static/chunks/619-ba102abea3e3d0e4.js\",\"356\",\"static/chunks/356-1fcf197c11312f1f.js\",\"858\",\"static/chunks/app/posts/%5Bslug%5D/page-313a7831d907d705.js\"],\"\"]\n11:I[8889,[\"619\",\"static/chunks/619-ba102abea3e3d0e4.js\",\"356\",\"static/chunks/356-1fcf197c11312f1f.js\",\"858\",\"static/chunks/app/posts/%5Bslug%5D/page-313a7831d907d705.js\"],\"default\"]\n12:T1d87,"])</script><script>self.__next_f.push([1,"\n# Map Extension\n\n## Map Extension\n\n![](/assets/images/mapextension/dynamics365-color.svg)\n*By Microsoft, Public Domain*\n\n\n## Map Extension\n\nThe Microsoft Dynamics 365 Business Central Extension described here allows users to view Customer locations in a map.\n\n\n## ChatGPT\n\n**Please explain this Business Central AL code**\n\nThe provided Business Central AL (Application Language) code is defining an extension for a Business Central application that adds a Leaflet map visualization to customer-related pages in the application. Let's break down the code step by step:\n\n**Control Add-in Definition (LeafletMapsFactBox):**\nThis section defines a control add-in named LeafletMapsFactBox. Control add-ins are used to integrate external controls or web content into Business Central pages.\n\nRequestedHeight and MaximumHeight specify the height of the control.\nVerticalStretch and VerticalShrink control the vertical resizing behavior.\nHorizontalStretch and HorizontalShrink control the horizontal resizing behavior.\nScripts specifies JavaScript files that are needed for the control add-in. It includes two URLs, one for Leaflet.js and another for LeafletMapsFunctions.js.\nStylesheets specifies the CSS styles needed for the control add-in, including the Leaflet CSS.\n\nThe ControlReady event is defined, which will be triggered when the control is ready. Additionally, there's a procedure CreateSidebar defined.\n\n**Page 50101 (LeafletMapsCustListFactBoxPart):**\nThis section defines a page named LeafletMapsCustListFactBoxPart. It is a fact box part that extends the Customer table and is intended to display on a card page.\n\nPageType specifies that this is a card part.\nSourceTable specifies that this part is related to the \"Customer\" table.\n\nIn the layout section, it defines a user control (Sidebar) that references the LeafletMapsFactBox control add-in defined earlier. This user control will be placed in the \"Content\" area of the page.\nThe OnAfterGetRecord trigger is defined. It is executed after a record is retrieved. It calls the CreateSidebar procedure defined in the LeafletMapsFactBox control add-in, passing the customer's number and city as parameters.\n\n**Page Extension 50102 (LeafletMaps Cust Card):**\nThis section defines a page extension that extends the \"Customer Card\" page. It adds a fact box part, LeafletMapsCustListFactBoxPart, to the \"Customer Card\" page.\n\nIt places the fact box part in the \"FactBoxes\" area.\nApplicationArea specifies that this extension is applicable to all areas.\nCaption sets the caption for the fact box part to \"Customer Map.\"\nSubPageLink indicates that this fact box is linked to the customer number (\"No.\").\n\n**Page Extension 50103 (LeafletMaps Cust List):**\nThis section defines a page extension that extends the \"Customer List\" page. Similar to the previous extension, it adds the LeafletMapsCustListFactBoxPart fact box part to the \"Customer List\" page.\n\nIt also places the fact box part in the \"FactBoxes\" area.\nApplicationArea specifies that this extension is applicable to all areas.\nCaption sets the caption for the fact box part to \"Customer Map.\"\nSubPageLink indicates that this fact box is linked to the customer number (\"No.\").\n\nIn summary, this code extends customer-related pages in a Business Central application to include a fact box displaying a Leaflet map. The map is populated with customer data, and users can interact with it to visualize customer locations. The LeafletMapsFactBox control add-in provides the functionality for rendering the map, and the code specifies when and where this control should be displayed on customer card and list pages.\n\n![](/assets/images/mapextension/20230901image01-1333x810.png)\n*Customer Adatum Corporation is based in Atlanta*\n\n![](/assets/images/mapextension/20230901image02-1333x809.png)\n*Customer Trey Research is based in Chicago*\n\n![](/assets/images/mapextension/20230901image03-1332x807.png)\n*Customer School of Fine Art is based in Miami*\n\n![](/assets/images/mapextension/20230901image04-1331x808.png)\n*Customer Relecloud is based in Atlanta*\n\n\n## Upload and deploy extension\n\nTo upload and deploy an extension to Microsoft Dynamics 365 Business Central, you'll need to follow a series of steps. Extensions in Business Central typically come in the form of [.app](https://haddley.github.io/businesscentral/Haddley_haddley-app_1.0.0.0.app) files or .zip files containing the extension's artifacts and metadata. Here's a step-by-step guide on how to do this:\n\nPrerequisites:\n\nYou should have an extension package ready (either a .app file or a .zip file) that you want to upload and deploy.\nYou should have the necessary permissions to perform these actions in your Business Central instance.\nSteps:\n\nAccess Your Business Central Environment:\nLog in to your Microsoft Dynamics 365 Business Central environment with the appropriate credentials.\nAccess the Extension Management Page:\nDepending on the version of Business Central you're using, the exact path to the Extension Management page may vary. Generally, you can find it under \"Extension Management\" or \"Extensions.\"\nUpload the Extension Package:\nLook for an option to \"Upload Extension\" or something similar. This will allow you to select and upload the extension package (the .app or .zip file) from your local machine.\nProvide Necessary Information:\nDepending on your extension, you may need to provide some configuration details or permissions. Follow the on-screen instructions to configure the extension correctly.\nInstall the Extension:\nAfter uploading the extension, you'll typically see an option to \"Install\" or \"Publish\" it. Click this option to initiate the installation process.\nMonitor Installation Progress:\nBusiness Central will begin installing the extension. You can monitor the installation progress, and if any issues arise, you'll receive error messages indicating what needs to be resolved.\nCheck the Status:\nOnce the installation is complete, check the status of the extension to ensure it's successfully installed and deployed. You should see it listed among your installed extensions.\nEnable or Configure the Extension:\nDepending on the extension, you may need to enable or configure it further to make it functional. This can include setting up permissions, defining data mappings, or configuring integration points.\nTest and Validate:\nBefore using the extension in a production environment, it's a good practice to thoroughly test it in a sandbox or testing environment to ensure it works as expected and doesn't conflict with existing functionality.\nGo Live:\nOnce you are satisfied with the extension's performance in your testing environment, you can deploy it to your production environment by following similar steps. Make sure to have a backup and a rollout plan in case any issues arise during deployment.\nRemember that the exact steps and options may vary slightly depending on the version of Business Central you're using and the specific requirements of the extension you are deploying. Always refer to the official documentation for your version of Business Central for detailed instructions and troubleshooting guidance.\n\n![](/assets/images/mapextension/20230903image01-1340x889.png)\n*Advanced Settings*\n\n![](/assets/images/mapextension/20230903image02-1336x887.png)\n*Upload And Deploy Extension*\n\n![](/assets/images/mapextension/20230903image03-1333x808.png)\n*Deploy*\n\n![](/assets/images/mapextension/20230903image04-1330x805.png)\n*Installation in progress*\n\n![](/assets/images/mapextension/20230903image05-1337x885.png)\n*Extension running in the cloud*\n"])</script><script>self.__next_f.push([1,"5:[[\"$\",\"section\",null,{\"className\":\"content4 cid-uBU3VQlp0E\",\"id\":\"content4-cru\",\"children\":[\"$\",\"div\",null,{\"className\":\"container\",\"children\":[\"$\",\"div\",null,{\"className\":\"row justify-content-center\",\"children\":[\"$\",\"div\",null,{\"className\":\"title col-md-12 col-lg-10\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"mbr-section-title mbr-fonts-style align-center mb-4 display-2\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Microsoft Dynamics 365 Business Central (Part 8)\"}]}],[\"$\",\"h4\",null,{\"className\":\"mbr-section-subtitle align-center mbr-fonts-style mb-4 display-5\",\"children\":\"Maps Extension\"}]]}]}]}]}],[\"$\",\"section\",null,{\"className\":\"content1 cid-content\",\"id\":\"content1-breadcrumb\",\"children\":[\"$\",\"div\",null,{\"className\":\"container\",\"children\":[\"$\",\"div\",null,{\"className\":\"row justify-content-center\",\"children\":[\"$\",\"div\",null,{\"className\":\"col-md-12 col-lg-10\",\"children\":[\"$\",\"div\",null,{\"className\":\"mb-4\",\"children\":[\"$\",\"$L10\",null,{\"href\":\"/posts\",\"className\":\"link text-primary display-7\",\"children\":\"‚Üê Back to Posts\"}]}]}]}]}]}],[\"$\",\"$L11\",null,{\"markdownContent\":\"$12\"}]]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n7:null\n"])</script><script>self.__next_f.push([1,"13:I[622,[],\"IconMark\"]\n"])</script><script>self.__next_f.push([1,"9:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"Neil Haddley - Developer \u0026 Technical Consultant\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"I help organizations to connect with clients, comply with regulations, and automate workflows.\"}],[\"$\",\"meta\",\"2\",{\"name\":\"author\",\"content\":\"Neil Haddley\"}],[\"$\",\"meta\",\"3\",{\"name\":\"keywords\",\"content\":\"developer, consultant, Azure, Angular, Business Central, automation\"}],[\"$\",\"meta\",\"4\",{\"name\":\"creator\",\"content\":\"Neil Haddley\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:title\",\"content\":\"Neil Haddley - Developer \u0026 Technical Consultant\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:description\",\"content\":\"I help organizations to connect with clients, comply with regulations, and automate workflows.\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:url\",\"content\":\"https://haddley.github.io/\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:site_name\",\"content\":\"Neil Haddley\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:locale\",\"content\":\"en_US\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"11\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"12\",{\"name\":\"twitter:title\",\"content\":\"Neil Haddley - Developer \u0026 Technical Consultant\"}],[\"$\",\"meta\",\"13\",{\"name\":\"twitter:description\",\"content\":\"I help organizations to connect with clients, comply with regulations, and automate workflows.\"}],[\"$\",\"link\",\"14\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"$L13\",\"15\",{}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"e:\"$9:metadata\"\n"])</script></body></html>