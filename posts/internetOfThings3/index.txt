1:"$Sreact.fragment"
2:I[9379,["619","static/chunks/619-ba102abea3e3d0e4.js","177","static/chunks/app/layout-b6140098d4dc0e33.js"],"default"]
3:I[9766,[],""]
4:I[8924,[],""]
6:I[4431,[],"OutletBoundary"]
8:I[5278,[],"AsyncMetadataOutlet"]
a:I[4431,[],"ViewportBoundary"]
c:I[4431,[],"MetadataBoundary"]
d:"$Sreact.suspense"
f:I[7150,[],""]
:HL["/_next/static/media/949adacb6381283a-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/media/9dd75fadc5b3df29-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/a7d33c8790143d66.css","style"]
0:{"P":null,"b":"RJUMHoOpO5HDs1LInqYrA","p":"","c":["","posts","internetOfThings3",""],"i":false,"f":[[["",{"children":["posts",{"children":[["slug","internetOfThings3","d"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/a7d33c8790143d66.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","children":[["$","head",null,{"children":[["$","link",null,{"rel":"stylesheet","href":"/assets/web/assets/mobirise-icons2/mobirise2.css"}],["$","link",null,{"rel":"stylesheet","href":"/assets/web/assets/mobirise-icons-bold/mobirise-icons-bold.css"}],["$","link",null,{"rel":"stylesheet","href":"/assets/bootstrap/css/bootstrap.min.css"}],["$","link",null,{"rel":"stylesheet","href":"/assets/bootstrap/css/bootstrap-grid.min.css"}],["$","link",null,{"rel":"stylesheet","href":"/assets/bootstrap/css/bootstrap-reboot.min.css"}],["$","link",null,{"rel":"stylesheet","href":"/assets/dropdown/css/style.css"}],["$","link",null,{"rel":"stylesheet","href":"/assets/socicon/css/styles.css"}],["$","link",null,{"rel":"stylesheet","href":"/assets/theme/css/style.css"}],["$","link",null,{"rel":"stylesheet","href":"/assets/mobirise/css/mbr-additional.css"}],["$","link",null,{"rel":"stylesheet","href":"/prism.css"}]]}],["$","body",null,{"className":"__className_2cd903 antialiased","children":[["$","$L2",null,{}],["$","main",null,{"children":["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":404}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]]}]]}]]}],{"children":["posts",["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["slug","internetOfThings3","d"],["$","$1","c",{"children":[null,["$","$L3",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L4",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$L5",null,["$","$L6",null,{"children":["$L7",["$","$L8",null,{"promise":"$@9"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,[["$","$La",null,{"children":"$Lb"}],["$","meta",null,{"name":"next-size-adjust","content":""}]],["$","$Lc",null,{"children":["$","div",null,{"hidden":true,"children":["$","$d",null,{"fallback":null,"children":"$Le"}]}]}]]}],false]],"m":"$undefined","G":["$f",[]],"s":false,"S":true}
10:I[2619,["619","static/chunks/619-ba102abea3e3d0e4.js","356","static/chunks/356-1fcf197c11312f1f.js","858","static/chunks/app/posts/%5Bslug%5D/page-313a7831d907d705.js"],""]
11:I[8889,["619","static/chunks/619-ba102abea3e3d0e4.js","356","static/chunks/356-1fcf197c11312f1f.js","858","static/chunks/app/posts/%5Bslug%5D/page-313a7831d907d705.js"],"default"]
12:T1df8,
# Internet of Things (Part 3)

## Edge Impulse

![](/assets/images/internetofthings3/iot-microchip.svg)
*iot microchip by Philipp Petzka is licensed under CC*


## Edge Impulse

Edge Impulse is a development platform for creating machine learning (ML) models optimized for edge devices. It allows developers to collect data, train ML models, and deploy them on low-power hardware such as microcontrollers, IoT devices, and embedded systems. The platform is particularly useful for applications in **industrial automation, healthcare, predictive maintenance, and smart devices**.

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-9.04.25am-2136x1234.png)
*I navigated to https://studio.edgeimpulse.com/*


## Arduino Nano 33 BLE Sense

The Arduino Nano 33 BLE Sense is a compact, microcontroller board designed for Artificial Intelligence (AI) and Internet of Things (IoT) applications, featuring built-in sensors and Bluetooth Low Energy (BLE) connectivity. 

The Arduino Nano 33 BLE Sense can be used in edge computing, AI/ML applications, and sensor-based projects.

![](/assets/images/internetofthings3/nano33-ble-sense-650x374.png)
*Nano 33 BLE Sense User Manual*


## Edge Impulse firmware

I installed the Edge Impulse firmware on the Arduino Nano 33 BLE Sense to improve its connectivity with Edge Impulse Studio for data collection.

![](/assets/images/internetofthings3/482410156-627953613276540-5451296773514265879-n-859x450.png)
*I followed these instructions https://docs.edgeimpulse.com/docs/edge-ai-hardware/mcu/arduino-nano-33-ble-sense*


## Sampling Frequency

The Edge Impulse firmware for the Arduino Nano 33 BLE Sense supports a sampling frequency of 16,000 Hz.

Audio files recorded with this firmware can be previewed and edited in Edge Impulse Studio.

I noticed that the play, pause, and volume media controls in Edge Impulse Studio only appeared when the selected audio file had been recorded using an Arduino Nano 33 BLE Sense with the Edge Impulse firmware installed.

![](/assets/images/internetofthings3/482435269-1145132687404726-4716611611337756326-n-1102x688.png)
*The Edge Impulse firmware for the Arduino Nano 33 BLE Sense supports a sampling frequency of 16,000 Hz.*

![](/assets/images/internetofthings3/476496236-1162144762281696-6300659400931351561-n-1359x645.png)
*When the dog was barking I clicked the Start sampling button*

![](/assets/images/internetofthings3/476504697-664391085933372-6833322121764778224-n-1366x673.png)
*The button text updated to Waiting to start...*

![](/assets/images/internetofthings3/476492243-9287067184705791-2599704835014173228-n-1365x696.png)
*The button text updated to Sampling... (Xs left)*

![](/assets/images/internetofthings3/476497092-484165971427295-7355111782948313514-n-1366x690.png)
*The button text updated to Reading data from device (XX%)...*

![](/assets/images/internetofthings3/476497322-1578815952747483-1090199327499510722-n-1366x680.png)
*The button text updated to Uploading...*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-1.08.35pm-2136x911.png)
*I selected a 10 second sample and selected the Split sample menu option*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-1.10.25pm-2136x1344.png)
*Edge Impulse highlighted 6 interesting segments. I clicked the Split button*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-1.55.50pm-2136x1100.png)
*I reviewed each of the newly created 1 second segment keeping every sample that was useful.*


## Training and Testing groups

Data is split into **Training** and **Testing** groups to ensure that a machine learning model generalizes well to new, unseen data. This separation helps prevent overfitting, where a model performs well on the training data but poorly on new inputs.

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-5.44.44pm-2136x712.png)
*I clicked the Perform train / test split button*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-5.45.21pm-2136x1103.png)
*I clicked the Yes, perform the train / test split button*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-5.45.49pm-2136x1099.png)
*I typed perform split and clicked the Perform train / test split button*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-5.46.10pm-2136x1110.png)
*I clicked the OK button*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-5.47.22pm-2136x1173.png)
*The samples were divided into a training set and a test set*


## EON Tuner

The Edge Impulse EON Tuner is a machine learning optimization tool that helps developers find the best ML model configuration for edge devices. It evaluates different model architectures, balancing accuracy, latency, and memory usage, to ensure the best possible performance on resource-constrained hardware.

[https://www.youtube.com/watch?v=c3R9w7R_tRw](https://www.youtube.com/watch?v=c3R9w7R_tRw)

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-5.54.42pm-2136x481.png)
*EON Tuner*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-5.55.55pm-2136x344.png)
*I selected Audible events*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-6.22.47pm-2136x1261.png)
*Audible events. Listen for short one-time occurrences of non-voice audio*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-5.58.09pm-2136x1173.png)
*EON Tuner is running...*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-6.07.06pm-2136x1165.png)
*EON Tuner results*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-6.27.34pm-2136x1001.png)
*I clicked the + Add button on the best looking model configuration*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-6.28.07pm-2136x1088.png)
*mfcc-conv1d-8f2 was added as an Impulse*


## Deployment

After training the model I was able to deploy it to the Arduino Nano 33 BLE Sense.

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-6.29.25pm-2136x1177.png)
*I clicked the Deployment menu item. I clicked the Build button*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-6.30.56pm-2136x966.png)
*An Arduino library .zip file was generated*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-6.31.41pm-1758x204.png)
*I copied the .zip file from the Downloads folder*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-6.33.14pm-1754x324.png)
*I copied the .zip file to the Arduino libraries folder*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-6.37.25pm-1758x1150.png)
*I unzipped the library*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-6.35.20pm-2136x292.png)
*I ran the Arduino Integrated Development Environment (IDE)*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-6.38.40pm-2136x1288.png)
*I selected the nano_ble33_sense_microphone example*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-6.39.38pm-2136x237.png)
*I clicked the Upload button*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-6.40.32pm-2136x1241.png)
*I waited for the sketch to compile*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-6.44.58pm-2136x1200.png)
*I waited for the sketch to be uploaded to the Arduino Nano 33 BLE Sense*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-6.45.39pm-2136x347.png)
*I started the Serial Monitor*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-6.47.04pm-2136x1232.png)
*With no barking the model correctly predicted: Background*

![](/assets/images/internetofthings3/screenshot-2025-03-01-at-7.20.55pm-2136x1238.png)
*With barking the model correctly predicted: Bark*
5:[["$","section",null,{"className":"content4 cid-uBU3VQlp0E","id":"content4-cru","children":["$","div",null,{"className":"container","children":["$","div",null,{"className":"row justify-content-center","children":["$","div",null,{"className":"title col-md-12 col-lg-10","children":[["$","h3",null,{"className":"mbr-section-title mbr-fonts-style align-center mb-4 display-2","children":["$","strong",null,{"children":"Internet of Things (Part 3)"}]}],["$","h4",null,{"className":"mbr-section-subtitle align-center mbr-fonts-style mb-4 display-5","children":"Edge Impulse"}]]}]}]}]}],["$","section",null,{"className":"content1 cid-content","id":"content1-breadcrumb","children":["$","div",null,{"className":"container","children":["$","div",null,{"className":"row justify-content-center","children":["$","div",null,{"className":"col-md-12 col-lg-10","children":["$","div",null,{"className":"mb-4","children":["$","$L10",null,{"href":"/posts","className":"link text-primary display-7","children":"← Back to Posts"}]}]}]}]}]}],["$","$L11",null,{"markdownContent":"$12"}]]
b:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
7:null
13:I[622,[],"IconMark"]
9:{"metadata":[["$","title","0",{"children":"Neil Haddley - Developer & Technical Consultant"}],["$","meta","1",{"name":"description","content":"I help organizations to connect with clients, comply with regulations, and automate workflows."}],["$","meta","2",{"name":"author","content":"Neil Haddley"}],["$","meta","3",{"name":"keywords","content":"developer, consultant, Azure, Angular, Business Central, automation"}],["$","meta","4",{"name":"creator","content":"Neil Haddley"}],["$","meta","5",{"property":"og:title","content":"Neil Haddley - Developer & Technical Consultant"}],["$","meta","6",{"property":"og:description","content":"I help organizations to connect with clients, comply with regulations, and automate workflows."}],["$","meta","7",{"property":"og:url","content":"https://haddley.github.io/"}],["$","meta","8",{"property":"og:site_name","content":"Neil Haddley"}],["$","meta","9",{"property":"og:locale","content":"en_US"}],["$","meta","10",{"property":"og:type","content":"website"}],["$","meta","11",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","12",{"name":"twitter:title","content":"Neil Haddley - Developer & Technical Consultant"}],["$","meta","13",{"name":"twitter:description","content":"I help organizations to connect with clients, comply with regulations, and automate workflows."}],["$","link","14",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"16x16"}],["$","$L13","15",{}]],"error":null,"digest":"$undefined"}
e:"$9:metadata"
