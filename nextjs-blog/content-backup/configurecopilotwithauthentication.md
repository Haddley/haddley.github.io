---
title: "Configure Copilot with authentication"
description: "A comprehensive guide covering configure copilot with authentication"
date: "2025-09-20"
category: "Development"
image: "/assets/images/configurecopilotwithauthentication.png"
tags: ["azure","docker","ai","ml","git"]
---

# Configure Copilot with authentication

Power Apps (Part 17) Configure Copilot with authentication This file is licensed under the Creative Commons Attribution 4.0 International license. Configure Copilot with authentication Microsoft Copilot Studio supports Azure Active Directory (aad) authentication. I created a new copilot I named the copilot "Blog Site Copilot" The copilot was setup "On Unknown Intent" the "Conversational boosting" Topic will generate an answer based on the contents of https://haddley.github.io (the Data source). To test the Copilot I asked the question "What is Docker?" I added a Message to display "System.Activity.Text" Now the text provided by the user is echoed back to them before the generated answer is displayed Restarting the session displays the message specified in the "Conversation Start" Topic Publish|Configure channels I wanted to publish the Copilot on a custom website. I clicked the Publish|Go to Channels link "Because you chose Teams Authentication, only Teams channel is available. To use other channels, change your authentication settings. Go to authentication settings." Settings|Security|Authentication By default the Copilot was configured with Authentication "Only for Teams and Power Apps". I clicked on the Security menu item I clicked on the Authentication tile The "Only for Teams and Power Apps" authentication option is selected (by default). Notice that a "Blog Site Copilot (Power Virtual Agents)" application registration was automatically created in Azure. Security|Authentication|No Authentication I set the Authentication setting to No authentication. I navigated to the Demo Website channel. I selected the No authentication option I clicked the Save button I clicked the Copy button I navigated to https://web.powerva.microsoft.com/environments/b838e044-3024-ea32-b2f4-7862b85e9903/bots/cr74e_blogSiteCopilot/canvas?__version__=2 I navigated to the Publish tab and clicked the Publish button I clicked the Publish button I returned to the demo website and asked the question "What is NGRX?" Custom website I created a custom website to host the Copilot. I navigated to the Custom website channel. I copied the iframe code I pasted the iframe HTML into an index.html page . I wanted to publish the website as an Azure Static Web App. I clicked the Create button I accepted the default commit message I clicked the + Create new resource group button I named the resource group (rg) haddley-canvas-app-rg I accepted the default static web app name. I selected the Free option (although I will update this value later) I selected the github organization I accepted the default repository name I selected the Private repository option I selected the default shortname I selected the HTML project structure I selected the default application code location / I did not specify an Azure Function I selected the default build output location / The html file was uploaded to Github and a Github Action was started. The Github action built the app and deployed it to Azure. I navigated to the Static Web App. I clicked on the URL link After navigating to https://delightful-moss-0ad02620f.5.azurestaticapps.net/ I asked the question "What is an API Gateway?" Token Endpoint I copied the "Token Endpoint" from the Mobile app channel. I navigated to the Mobile app channel and copied the "Token Endpoint" I added the tokenEndpointURL and styleOptions to the web page . I asked the Copilot "What is PouchDB?" Settings|Security|Manual To configure "Manual Authentication" I needed to create a "Copilot App" Application Registration and copy the Client ID and a Client Secret to Copilot Studio. I clicked the + New registration link I provided the name "Blog Site Copilot (Authenticated App)" and clicked the Register button see: Configure user authentication with Microsoft Entra ID I copied the "Client ID" from the app registration overview page I needed to provide a Client ID I navigated to the Authentication page and clicked the + Add a platform link I clicked the "Web" tile I entered https://token.botframework.com/.auth/web/redirect (see: Copilot Authentication page) Redirect URI (I did not check an Implicit grant and hybrid flows box) The Web Redirect URI was added to the Application Registration I navigated to the Certificates & secrets page. I clicked the + New client secret link. I selected an Expires value and clicked the Add button I copied the client secret value I pasted the client secret value into the Copilot Authentication page, check the Require users to sign in checkbox and clicked the Save button. I published the Copilot I refreshed the custom website. I clicked the Login button I clicked the Accept button I copied the validation code I pasted the validation code into the chat interface The "Canvas App" Application Registration I created a "Canvas App" Application Registration. I provided the name "Blog Site Copilot (Canvas App)" and clicked the Register button see: Configure user authentication with Microsoft Entra ID I copied the "Tenant ID" from the app registration overview page I created a staticwebapp.config.json file and added a custom authentication section. staticwebapp.config.json I added the tenant id. Note that the AZURE_CLIENT_ID and AZURE_CLIENT_SECRET values are not entered into this file. Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file I added the client secret value as Static Web App environment variable value I copied the Client Id from the Canvas App Application Registration I added the Client Id value as Static Web App environment variable value and clicked the Apply button I navigated to https://delightful-moss-0ad02620f.5.azurestaticapps.net Using the "kubectl apply" command to apply a yaml file It was not obvious that the user was logged in Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file I updated the hosting plan Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file Using the "kubectl apply" command to apply a yaml file New Possibilities Block with flexible configuration, free vertical and horizontal content movement (only when full screen is on) Learn more New Possibilities Block with flexible configuration, free vertical and horizontal content movement (only when full screen is on) Learn more References Microsoft Copilot|Configure single sign-on with Microsoft Entra ID Configure user authentication with Microsoft Entra ID Enable Single Sign On for Copilot Studio Bot Build a website using Azure Static Web Apps and Authenticate with AAD
